!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})}(this,function(t){"use strict";t.tip=function(){const t=function(t){return"function"==typeof t?t:function(){return t}};var e=function(){return"n"},n=function(){return[0,0]},o=function(){return" "},r=a(),l=null,i=null,s=null;function f(t){var e;l="svg"===(e=(e=t).node()).tagName.toLowerCase()?e:e.ownerSVGElement,i=l.createSVGPoint(),document.body.appendChild(r)}f.show=function(){var t=Array.prototype.slice.call(arguments);t[0]instanceof Event&&(s=t[0].target),t[t.length-1]instanceof SVGElement&&(s=t.pop());var r,l=o.apply(this,t),i=n.apply(this,t),a=e.apply(this,t),y=p(),d=c.length,m=document.documentElement.scrollTop||document.body.scrollTop,h=document.documentElement.scrollLeft||document.body.scrollLeft;for(y.html(l).style("position","absolute").style("opacity",1).style("pointer-events","all");d--;)y.classed(c[d],!1);return r=u[a].apply(this),y.classed(a,!0).style("top",r.top+i[0]+m+"px").style("left",r.left+i[1]+h+"px"),f},f.hide=function(){return p().style("top",0).style("left",0).style("opacity",0).style("pointer-events","none"),f},f.attr=function(t,e){if(arguments.length<2&&"string"==typeof t)return p().attr(t);var n=Array.prototype.slice.call(arguments);return"class"==t?p().classed(e,!0):d3.selection.prototype.attr.apply(p(),n),f},f.style=function(t,e){if(arguments.length<2&&"string"==typeof t)return p().style(t);var n=Array.prototype.slice.call(arguments);if(1===n.length){var o=n[0];Object.keys(o).forEach(function(t){return d3.selection.prototype.style.apply(p(),[t,o[t]])})}return f},f.direction=function(n){return arguments.length?(e=null==n?n:t(n),f):e},f.offset=function(e){return arguments.length?(n=null==e?e:t(e),f):n},f.html=function(e){return arguments.length?(o=null==e?e:t(e),f):o},f.destroy=function(){return r&&(p().remove(),r=null),f};var u={n:function(){var t=y();return{top:t.n.y-r.offsetHeight,left:t.n.x-r.offsetWidth/2}},s:function(){var t=y();return{top:t.s.y,left:t.s.x-r.offsetWidth/2}},e:function(){var t=y();return{top:t.e.y-r.offsetHeight/2,left:t.e.x}},w:function(){var t=y();return{top:t.w.y-r.offsetHeight/2,left:t.w.x-r.offsetWidth}},nw:function(){var t=y();return{top:t.nw.y-r.offsetHeight,left:t.nw.x-r.offsetWidth}},ne:function(){var t=y();return{top:t.ne.y-r.offsetHeight,left:t.ne.x}},sw:function(){var t=y();return{top:t.sw.y,left:t.sw.x-r.offsetWidth}},se:function(){var t=y();return{top:t.se.y,left:t.e.x}}},c=Object.keys(u);function a(){let t=d3.select(".d3-tip-lib-node");return t.node()||(t=d3.select(document.createElement("div"))),t.classed("d3-tip-lib-node",!0).style("position","absolute").style("top","0").style("opacity","0").style("pointer-events","none").style("box-sizing","border-box"),t.node()}function p(){return null===r&&(r=a(),document.body.appendChild(r)),d3.select(r)}function y(){for(var t=s||d3.event.target;void 0===t.getScreenCTM&&"undefined"===t.parentNode;)t=t.parentNode;var e={},n=t.getScreenCTM(),o=t.getBBox(),r=o.width,l=o.height,f=o.x,u=o.y;return i.x=f,i.y=u,e.nw=i.matrixTransform(n),i.x+=r,e.ne=i.matrixTransform(n),i.y+=l,e.se=i.matrixTransform(n),i.x-=r,e.sw=i.matrixTransform(n),i.y-=l/2,e.w=i.matrixTransform(n),i.x+=r,e.e=i.matrixTransform(n),i.x-=r/2,i.y-=l/2,e.n=i.matrixTransform(n),i.y+=l,e.s=i.matrixTransform(n),e}return f},Object.defineProperty(t,"__esModule",{value:!0})});